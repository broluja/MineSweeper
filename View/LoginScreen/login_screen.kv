#: import os os
#: import get_hex_from_color kivy.utils.get_hex_from_color
#: set primary get_hex_from_color(app.theme_cls.primary_color)


<CustomLabel@MDLabel>
    font_style:'Body1'
    theme_text_color: 'Hint'


<LoginScreenView>
    on_leave: name_field.text = ''
    Image:
        source: f'{os.environ["MINESWEEPER"]}/assets/images/kivy-logo.png'
        size_hint: None, .2
        width: self.height
        pos_hint: {'center_x': .5, 'center_y': .85}

    MDLabel:
        markup: True
        font_size: dp(50)
        text: f'Minesweeper[color={primary}]Game[/color]'
        pos_hint: {'center_y': .7}
        halign: 'center'

    MDBoxLayout:
        orientation: 'vertical'
        size_hint_x: .5
        pos_hint: {'center_x': .5, 'center_y': .35}
        spacing: dp(40)
        adaptive_height: True

        CustomLabel:
            text: 'Choose game level'
            font_size: dp(22)
            halign: 'center'

        MDBoxLayout:

            CustomLabel:
                text: 'Easy'
            MDCheckbox:
                group: 'difficulty'
                size_hint: None, None
                size: dp(44), dp(44)
                pos_hint: {'center_y': .3}
                on_active: app.level = 'EASY'

        MDBoxLayout:

            CustomLabel:
                text: 'Intermediate'
            MDCheckbox:
                group: 'difficulty'
                size_hint: None, None
                size: dp(44), dp(44)
                pos_hint: {'center_y': .3}
                on_active: app.level = 'INTERMEDIATE'

        MDBoxLayout:

            CustomLabel:
                text: 'Hard'
            MDCheckbox:
                group: 'difficulty'
                size_hint: None, None
                size: dp(44), dp(44)
                pos_hint: {'center_y': .3}
                on_active: app.level = 'HARD'


        MDTextField:
            id: name_field
            hint_text: 'Enter your name'
            font_size: dp(50)
            on_text_validate: root.login(name_field.text)

        MDRoundFlatIconButton:
            icon: 'send'
            text: ' Login '
            theme_text_color: 'Custom'
            line_color: 1, 1, 1, 1
            icon_color: 1, 1, 1, 1
            pos_hint: {'center_x': .5}
            font_size: dp(40)
            on_press: root.login(name_field.text)

        MDLabel:
            markup: True
            font_size: dp(20)
            text: f'Click [ref=<str>]here to see[color={primary}] Records[/color][/ref]'
            pos_hint: {'center_y': .65}
            halign: 'center'
            on_ref_press: app.manager_screen.switch_screen('records')
